{"version":3,"file":"js/241-legacy.4e083d1c.js","mappings":"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","sources":["webpack://chill-bar/./src/views/frontEnd/LoginView.vue","webpack://chill-bar/./src/views/frontEnd/LoginView.vue?4698"],"sourcesContent":["<script>\nimport {\n  ref,\n  reactive,\n  onBeforeMount,\n} from 'vue';\nimport { useRouter } from 'vue-router';\nimport axios from 'axios';\nimport useStore from '@/stores';\n\nexport default {\n  setup() {\n    const baseUrl = process.env.VUE_APP_API_URL;\n    const { adminStore } = useStore();\n    const {\n      handleSetLogin, handleCheckUser, handleGetToken,\n    } = adminStore;\n    const router = useRouter();\n    const userName = ref('');\n    const userPassword = ref('');\n    const modalMessage = reactive({\n      title: '',\n      message: '',\n      detail: '',\n    });\n    const openModal = ref(false);\n\n    function handlerSubmit() {\n      const username = userName.value;\n      const password = userPassword.value;\n      axios.post(`${baseUrl}admin/signin`, { username, password })\n        .then((res) => {\n          const data = {\n            token: res.data.token,\n            expired: res.data.expired,\n          };\n          handleSetLogin(data);\n          modalMessage.message = res.data.message;\n          modalMessage.title = '登入成功';\n          openModal.value = true;\n          setTimeout(() => {\n            openModal.value = false;\n            router.push('/admin');\n          }, 3000);\n        })\n        .catch((err) => {\n          modalMessage.message = err.response.data.message;\n          modalMessage.detail = err.response.data.error.message;\n          modalMessage.title = '登入失敗';\n          openModal.value = true;\n        });\n    }\n\n    function handleCloseModal() {\n      openModal.value = false;\n    }\n\n    onBeforeMount(() => {\n      handleGetToken();\n      handleCheckUser();\n    });\n\n    return {\n      userName,\n      userPassword,\n      handlerSubmit,\n      openModal,\n      handleCloseModal,\n      modalMessage,\n    };\n  },\n};\n</script>\n\n<template>\n  <main class=\"flex justify-center items-center h-screen bg-gray-50\">\n    <div class=\"container max-w-lg\">\n      <form class=\"p-8 space-y-8 bg-white rounded shadow-sm\" @submit.prevent=\"handlerSubmit\">\n        <legend class=\"text-3xl font-medium\n        tracking-wide text-center text-primary-600\">管理者登入</legend>\n        <div class=\"form-control\">\n          <label for=\"name\" class=\"font-normal label\">\n            <span class=\"label-text\">使用者帳號</span>\n          </label>\n          <input\n            id=\"name\"\n            type=\"text\"\n            name=\"userName\"\n            placeholder=\"請輸入帳號Email\"\n            v-model.trim=\"userName\"\n            class=\"input form-style\"\n          />\n        </div>\n        <div class=\"form-control\">\n          <label for=\"password\" class=\"font-normal label\">\n            <span class=\"label-text\">使用者密碼</span></label>\n          <input\n            id=\"password\"\n            type=\"password\"\n            class=\"input form-style\"\n            v-model=\"userPassword\"\n            placeholder=\"請輸入密碼\"\n          />\n        </div>\n        <button\n          type=\"submit\"\n          class=\"w-full text-secondary-50 bg-secondary-400 hover:bg-secondary-600 rounded-lg\n          transition\n          duration-300 btn\"\n        >\n          登入\n        </button>\n      </form>\n    </div>\n    <AlertModal v-model=\"openModal\" @handleCloseModal=\"handleCloseModal\">\n      <template v-slot:title>{{ modalMessage.title }}</template>\n      <p class=\"mb-2 text-center\">{{ modalMessage.message }}</p>\n      <p>{{ modalMessage.detail }}</p>\n    </AlertModal>\n  </main>\n</template>\n","import { render } from \"./LoginView.vue?vue&type=template&id=2a74351d\"\nimport script from \"./LoginView.vue?vue&type=script&lang=js\"\nexport * from \"./LoginView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Volumes/DATA/Design_Craft/Web/Vue-hexschool/vue-FinalProject/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","type","_createElementBlock","onSubmit","$setup","_hoisted_3","_hoisted_5","id","name","placeholder","$event","_hoisted_7","_hoisted_8","_createVNode","_component_AlertModal","onHandleCloseModal","title","_toDisplayString","message","detail","setup","baseUrl","process","useStore","adminStore","handleSetLogin","handleCheckUser","handleGetToken","router","useRouter","userName","ref","userPassword","modalMessage","reactive","openModal","handlerSubmit","username","value","password","axios","then","res","data","token","expired","setTimeout","push","catch","err","response","error","handleCloseModal","onBeforeMount","__exports__","render"],"sourceRoot":""}