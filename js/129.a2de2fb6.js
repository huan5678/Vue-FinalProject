"use strict";(self["webpackChunkchill_bar"]=self["webpackChunkchill_bar"]||[]).push([[129],{2330:function(e,t,n){n.d(t,{Z:function(){return x}});var a=n(6252);const l={id:"footer",class:"py-4 bg-secondary-700"},o={class:"container"},s={class:"flex flex-col justify-between items-center space-y-4 md:flex-row md:space-y-0"},r={class:"flex flex-col gap-2 items-center rfs:text-base text-secondary-300 md:flex-row"},i=(0,a._)("p",{class:"flex md:flex-col"},[(0,a.Uk)("本網站僅供個人作品使用，"),(0,a._)("span",null,"不做任何商業用途")],-1),c=(0,a._)("span",{class:"hidden order-1 lg:block"},"-",-1),d=(0,a._)("p",{class:"rfs:text-base text-secondary-300"}," ChillBar COPYRIGHT © 2022 ",-1),u=(0,a.Uk)("後台管理");function p(e,t,n,p,b,h){const y=(0,a.up)("SvgLoader"),m=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("footer",l,[(0,a._)("nav",o,[(0,a._)("ul",s,[(0,a._)("li",null,[(0,a.Wm)(y,{name:"bannerLogo",class:"w-24 h-8 text-secondary-200"})]),(0,a._)("li",r,[i,c,d,(0,a.Wm)(m,{to:"admin",class:"order-none mx-auto ml-auto font-normal tracking-[.1rem] text-secondary-300 hover:text-secondary-100 hover:bg-secondary-400 rounded-none border border-secondary-200 hover:border-secondary-400 hover:shadow hover:shadow-secondary-500 transition duration-200 ease-in-out lg:order-2 btn btn-md btn-outline"},{default:(0,a.w5)((()=>[u])),_:1})])])])])}var b=n(2119),h={setup(){const e=(0,b.yj)();return{route:e}}},y=n(3744);const m=(0,y.Z)(h,[["render",p]]);var x=m},9762:function(e,t,n){n.d(t,{Z:function(){return $e}});var a=n(6252),l=n(3577),o=n(9963);const s={class:"container flex static justify-between items-center py-3"},r={href:"/"},i=(0,a._)("h2",{class:"hidden text-primary-500"},"ChillBar秋吧",-1),c={for:"menuBtn",class:"md:hidden btn swap"},d=(0,a._)("i",{class:"bi bi-list"},null,-1),u={class:"hidden pt-2 transition-all duration-500 md:flex"},p={key:0,class:"flex flex-auto justify-end px-2"},b=(0,a.Uk)(" 產品列表 "),h={key:1,class:"flex flex-auto justify-end px-2"},y=(0,a.Uk)(" 預約訂位 "),m={key:2,class:"flex flex-auto justify-end px-2"},x=(0,a.Uk)(" 關於我們 "),f={key:3},w={key:4,class:"flex-auto indicator"},g=(0,a._)("i",{class:"rfs:text-2xl text-secondary-300 bi bi-bag-heart"},null,-1),C=[g],_={key:0,class:"flex gap-4 justify-center items-center"},v=(0,a._)("i",{class:"rfs:text-xl bi bi-person-circle"},null,-1),k=(0,a.Uk)(" 管理者登出 "),L=[v,k],D={class:"flex flex-col gap-8 items-center p-4"},j={for:"overlayMenuBtn",class:"ml-auto btn swap"},q=(0,a._)("i",{class:"bi bi-x-lg"},null,-1),H=(0,a.Uk)(" 產品列表 "),U=(0,a.Uk)(" 預約訂位 "),z=(0,a.Uk)(" 關於我們 ");function F(e,t,n,g,v,k){const F=(0,a.up)("SvgLoader"),P=(0,a.up)("AppLink"),W=(0,a.up)("TheCart");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("section",{id:"header",ref:"header",class:(0,l.C_)(["sticky top-0 z-30 w-full bg-secondary-900/70 transition-all duration-500",{"bg-secondary-700":!g.isHome,"translate-y-0":g.scroll.showHeader,"-translate-y-full":!g.scroll.showHeader}])},[(0,a._)("nav",s,[(0,a._)("a",r,[(0,a.Wm)(F,{name:"bannerLogo",class:"w-28 h-8 text-primary-500"}),i]),(0,a._)("label",c,[(0,a.wy)((0,a._)("input",{type:"checkbox",id:"menuBtn","onUpdate:modelValue":t[0]||(t[0]=e=>g.openDropdown=e)},null,512),[[o.e8,g.openDropdown]]),d]),(0,a._)("ul",u,["dashboard"!==g.route.name?((0,a.wg)(),(0,a.iD)("li",p,[(0,a.Wm)(P,{to:"product"},{default:(0,a.w5)((()=>[b])),_:1})])):(0,a.kq)("",!0),"dashboard"!==g.route.name?((0,a.wg)(),(0,a.iD)("li",h,[(0,a.Wm)(P,{to:"booking"},{default:(0,a.w5)((()=>[y])),_:1})])):(0,a.kq)("",!0),"dashboard"!==g.route.name?((0,a.wg)(),(0,a.iD)("li",m,[(0,a.Wm)(P,{to:"about"},{default:(0,a.w5)((()=>[x])),_:1})])):(0,a.kq)("",!0),"dashboard"===g.route.name||"confirm"===g.route.name?((0,a.wg)(),(0,a.iD)("li",f)):((0,a.wg)(),(0,a.iD)("li",w,[(0,a.wy)((0,a._)("span",{class:"rfs:text-xs text-primary-50 bg-primary-500 indicator-item badge"},(0,l.zw)(g.cartList.length),513),[[o.F8,g.cartList.length>0]]),(0,a._)("button",{class:"btn btn-circle btn-ghost",type:"button",onClick:t[1]||(t[1]=e=>g.handleCart(!0)),onKeydown:e=>!0},C,32)]))]),"dashboard"===g.route.name?((0,a.wg)(),(0,a.iD)("div",_,[(0,a._)("button",{type:"button",class:"gap-2 rfs:text-base font-normal bg-primary-400 hover:bg-primary-600 transition duration-300 btn btn-xs sm:btn-sm md:btn-md",onClick:t[2]||(t[2]=e=>g.handleIsLogout())},L)])):(0,a.kq)("",!0)])],2),(0,a.Wm)(W,{modelValue:g.openCart,"onUpdate:modelValue":t[3]||(t[3]=e=>g.openCart=e),onHandleCart:g.handleCart,handleCart:g.handleCart},null,8,["modelValue","onHandleCart","handleCart"]),((0,a.wg)(),(0,a.j4)(a.lR,{to:"body"},[(0,a.Wm)(o.uT,{name:"fade"},{default:(0,a.w5)((()=>[(0,a._)("div",{class:(0,l.C_)(["overflow-hidden absolute inset-0 z-[9999] w-screen h-screen bg-secondary-900/80 backdrop-blur-sm transition-all duration-500",{"translate-x-[-250%]":!g.openDropdown}])},[(0,a._)("nav",D,[(0,a._)("label",j,[(0,a.wy)((0,a._)("input",{type:"checkbox",id:"overlayMenuBtn","onUpdate:modelValue":t[4]||(t[4]=e=>g.openDropdown=e)},null,512),[[o.e8,g.openDropdown]]),q]),(0,a.Wm)(P,{to:"product",class:"rfs:text-4xl",onClick:t[5]||(t[5]=e=>g.openDropdown=!1),onKeydown:t[6]||(t[6]=e=>g.openDropdown=!1)},{default:(0,a.w5)((()=>[H])),_:1}),(0,a.Wm)(P,{to:"booking",class:"rfs:text-4xl",onClick:t[7]||(t[7]=e=>g.openDropdown=!1),onKeydown:t[8]||(t[8]=e=>g.openDropdown=!1)},{default:(0,a.w5)((()=>[U])),_:1}),(0,a.Wm)(P,{to:"about",class:"rfs:text-4xl",onClick:t[9]||(t[9]=e=>g.openDropdown=!1),onKeydown:t[10]||(t[10]=e=>g.openDropdown=!1)},{default:(0,a.w5)((()=>[z])),_:1}),g.cartList.length>0?((0,a.wg)(),(0,a.iD)("p",{key:0,class:"py-2 px-3 rfs:text-4xl font-normal text-secondary-300",onClick:t[11]||(t[11]=e=>g.handleCart(!0)),onKeydown:t[12]||(t[12]=e=>g.handleCart(!0))},"查看購物車",32)):(0,a.kq)("",!0)])],2)])),_:1})]))],64)}var P=n(2119),W=n(2262),S=n(6978),T=n(5516);const B={class:"overflow-y-auto py-4 px-4 h-screen bg-white md:py-8 md:px-6 md:w-8/12 lg:py-14 lg:px-8 lg:w-1/2 lg:h-screen",id:"scroll"},K={class:"flex justify-between items-center"},Y=(0,a._)("h2",{class:"pt-3 rfs:text-4xl font-medium text-secondary-800"},"購物車內容",-1),V=["onClick","onKeydown"],Z=(0,a._)("i",{class:"text-2xl bi bi-x-lg"},null,-1),I=[Z],$={key:0},M=(0,a._)("h3",{class:"pt-12 text-xl font-light"},[(0,a.Uk)(" 您的購物車還沒有商品"),(0,a._)("br"),(0,a.Uk)(" 來加入一些你想要的東西吧... ")],-1),O=[M],A={key:1,class:"py-8 space-y-4 border-t border-secondary-50"},G=["onClick"],N=(0,a._)("i",{class:"text-xl bi bi-x"},null,-1),R=[N],E={class:"md:w-1/2 lg:w-1/3"},Q=["src","alt"],J={class:"flex flex-col flex-auto justify-center"},X={class:"text-secondary-800 select-none md:pt-0 badge badge-outline badge-md"},ee={class:"flex gap-4 items-center pt-1"},te={class:"text-base font-medium text-secondary-800"},ne={class:"flex gap-1 items-center ml-auto"},ae=["disabled","onClick"],le=["disabled"],oe=(0,a._)("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),se=(0,a._)("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962\n                          7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1),re=[oe,se],ie={class:"p-4"},ce=["onClick"],de=["disabled"],ue=(0,a._)("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),pe=(0,a._)("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962\n                          7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1),be=[ue,pe],he={class:"pt-5 space-y-6"},ye={class:"flex justify-between items-center"},me=(0,a._)("p",{class:"text-sm"}," 單價 ",-1),xe={class:"text-sm font-black leading-none text-secondary-800"},fe={class:"flex justify-between items-center"},we=(0,a._)("p",{class:"text-sm"}," 單一品項總價 ",-1),ge={class:"text-base font-black leading-none text-secondary-800"},Ce={class:"flex justify-end"},_e={class:"w-full bg-secondary-100 md:w-8/12 lg:w-96"},ve={class:"flex overflow-y-auto flex-col justify-between py-6 px-4 h-auto md:py-10 md:px-7 lg:py-20 lg:px-8 lg:h-screen"},ke=(0,a._)("h2",{class:"rfs:text-3xl font-medium leading-9 text-secondary-800 lg:text-4xl"},"合計",-1),Le={class:"pt-12 space-y-6"},De={class:"flex justify-between items-center"},je=(0,a._)("p",{class:"rfs:text-base leading-none text-secondary-800"},"小計",-1),qe={class:"rfs:text-base leading-none text-secondary-800"},He={class:"flex justify-between items-center"},Ue=(0,a._)("p",{class:"rfs:text-base leading-none text-secondary-800"},"優惠折價券",-1),ze={class:"rfs:text-base leading-none text-secondary-800"},Fe={class:"flex justify-between items-center pt-20 pb-6 lg:pt-5"},Pe=(0,a._)("p",{class:"rfs:text-2xl leading-normal text-secondary-800"},"總計",-1),We={class:"rfs:text-2xl font-bold leading-normal text-right text-secondary-800"},Se=["disabled"];function Te(e,t,n,s,r,i){const c=(0,a.up)("VueFinalModal");return(0,a.wg)(),(0,a.j4)(c,(0,a.dG)(e.$attrs,{classes:"bg-secondary-900 bg-opacity-50 backdrop-blur-[2px]",id:"chec-div"}),{default:(0,a.w5)((({handleCart:n})=>[(0,a._)("div",{class:"flex overflow-y-auto flex-wrap justify-end h-screen transition-all duration-700 transform translate-x-0 lg:flex-row lg:h-auto ease-[cubic-bezier(0.4, 0, 0.2, 1)]",id:"checkout",onClick:t[2]||(t[2]=(...e)=>s.handleCloseCart&&s.handleCloseCart(...e)),onKeydown:t[3]||(t[3]=(...e)=>s.handleCloseCart&&s.handleCloseCart(...e))},[(0,a._)("div",B,[(0,a._)("div",K,[Y,(0,a._)("button",{class:"btn btn-ghost",onClick:t=>e.$emit("handleCart",n),onKeydown:(0,o.D2)(n,["esc"])},I,40,V)]),0===s.cartList.length?((0,a.wg)(),(0,a.iD)("div",$,O)):((0,a.wg)(),(0,a.iD)("ul",A,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.cartList,(e=>((0,a.wg)(),(0,a.iD)("li",{key:e.id,class:"flex gap-4 justify-between items-center pb-4 border-b"},[(0,a._)("button",{type:"button",class:"text-primary-700 hover:text-primary-100 hover:bg-primary-600 rounded border-primary-600 hover:border-primary-600 btn btn-sm btn-square btn-outline",onClick:t=>s.handleDeleteCart(e.id)},R,8,G),(0,a._)("div",E,[(0,a._)("img",{src:e.product.imageUrl,alt:e.product.title,class:"object-cover object-center"},null,8,Q)]),(0,a._)("div",J,[(0,a._)("p",X,(0,l.zw)(e.product.category),1),(0,a._)("div",ee,[(0,a._)("p",te,(0,l.zw)(e.product.title),1),(0,a._)("div",ne,[(0,a._)("button",{class:"btn btn-sm btn-outline btn-square",disabled:1===e.qty,onClick:t=>{e.qty=s.handleCountQty(e.qty-=1),s.handleUpdateCart(e.id,e.qty)}},[((0,a.wg)(),(0,a.iD)("svg",{class:(0,l.C_)(["w-5 h-5 text-gray-300 animate-spin",s.isLoading===e.id?"":"hidden"]),disabled:s.isLoading===e.id,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},re,10,le)),(0,a._)("i",{class:(0,l.C_)(["bi bi-dash-lg",{hidden:s.isLoading===e.id}])},null,2)],8,ae),(0,a._)("span",ie,(0,l.zw)(e.qty),1),(0,a._)("button",{class:"btn btn-sm btn-outline btn-square",onClick:t=>{e.qty+=1,s.handleUpdateCart(e.id,e.qty)}},[((0,a.wg)(),(0,a.iD)("svg",{class:(0,l.C_)(["w-5 h-5 text-gray-300 animate-spin",s.isLoading===e.id?"":"hidden"]),disabled:s.isLoading===e.id,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},be,10,de)),(0,a._)("i",{class:(0,l.C_)(["bi bi-plus-lg",{hidden:s.isLoading===e.id}])},null,2)],8,ce)])]),(0,a._)("ul",he,[(0,a._)("li",ye,[me,(0,a._)("p",xe," NT$"+(0,l.zw)(s.moneyFormat(e.product.price)),1)]),(0,a._)("li",fe,[we,(0,a._)("p",ge," NT$"+(0,l.zw)(s.moneyFormat(e.product.price,e.qty)),1)])])])])))),128))])),(0,a._)("div",Ce,[s.cartList.length>0?((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:t[0]||(t[0]=(...e)=>s.handleClearCart&&s.handleClearCart(...e)),class:"hover:text-secondary-100 hover:bg-secondary-700 rounded border-secondary-700 hover:border-transparent transition duration-300 ease-in-out btn btn-outline"},"刪除全部品項")):(0,a.kq)("",!0)])]),(0,a._)("div",_e,[(0,a._)("div",ve,[(0,a._)("div",null,[ke,(0,a._)("ul",Le,[(0,a._)("li",De,[je,(0,a._)("p",qe,"$"+(0,l.zw)(s.cartTotalPrice),1)]),(0,a._)("li",He,[Ue,(0,a._)("p",ze,(0,l.zw)(s.checkCoupon.name?s.checkCoupon.name:"您還未取得優惠券"),1)])])]),(0,a._)("div",null,[(0,a._)("div",Fe,[Pe,(0,a._)("p",We," $"+(0,l.zw)(s.cartFinalPrice),1)]),(0,a._)("button",{onClick:t[1]||(t[1]=(...e)=>s.handleCheckout&&s.handleCheckout(...e)),disabled:0===s.cartList.length,class:"w-full text-base leading-none text-secondary-50 bg-secondary-800 border border-secondary-800 btn"}," 前往結賬 ",8,Se)])])])],32)])),_:1},16)}var Be={emits:["handleCart"],props:["handleCart"],setup(e){const{cartStore:t,couponStore:n}=(0,S.Z)(),{cartData:l,handleGetCart:o,handleDeleteCart:s,handleClearCart:r,handleUpdateCart:i,handleSetResult:c}=t,d=(0,P.tv)(),u={},{couponData:p}=n;function b(e,t){let n=e;return void 0!==t&&(n*=t),void 0!==e?Number(n.toFixed(1)).toLocaleString():0}const h=(0,a.Fl)((()=>b(l.totalPrice)));function y(t){"checkout"===t.target.id&&e.handleCart(!1)}function m(){e.handleCart(!1),d.push("/checkout")}function x(e){return e<=1?1:e}(0,a.YP)((()=>l.cart),(e=>{e.length>0&&o()}));const f=(0,W.iH)(""),w=(0,a.Fl)((()=>p.couponList)),g=localStorage.getItem("coupon");(0,a.bv)((()=>{null!==g&&([f.value]=w.value.filter((e=>e.code===g)))}));const C=(0,a.Fl)((()=>{let e=0;return null!==g?([f.value]=w.value.filter((e=>e.code===g)),e="minus"===f.value.rules?l.totalPrice+f.value.price:l.totalPrice*f.value.price):e=l.totalPrice,c(e),b(e)}));return{windowWidth:window.innerWidth,cartList:(0,a.Fl)((()=>l.list)),isOpenCart:(0,a.Fl)((()=>l.isOpenCart)),cartTotalPrice:h,cartFinalPrice:C,handleCountQty:x,handleDeleteCart:s,handleClearCart:r,handleUpdateCart:i,moneyFormat:b,cart:u,handleCloseCart:y,isLoading:(0,a.Fl)((()=>t.isLoading)),handleCheckout:m,checkCoupon:f}}},Ke=n(3744);const Ye=(0,Ke.Z)(Be,[["render",Te]]);var Ve=Ye,Ze={components:{AppLink:T.Z,TheCart:Ve},setup(){const e=(0,P.yj)(),{adminStore:t,cartStore:n}=(0,S.Z)(),{handleSetLogout:l,handleClearToken:o}=t,{cartData:s,handleGetCart:r}=n,i=(0,P.tv)(),c=(0,W.iH)(!1),d=(0,W.qj)({current:0,prev:0,showHeader:!0}),u=(0,W.iH)(!0),p=(0,W.iH)(!1);window.onscroll=()=>{d.current=window.scrollY};const b=(0,W.iH)(null);function h(){o(),l(),i.push("/")}function y(e){const t=document.getElementById("checkout"),n=document.getElementById("chec-div"),a=document.querySelector(".vfm__content");e?(setTimeout((()=>{t.classList.remove("translate-x-full"),t.classList.add("translate-x-0"),n.classList.add("opacity-100"),a.classList.remove("hidden")}),300),s.isOpenCart=!e):(t.classList.add("translate-x-full"),t.classList.remove("translate-x-0"),setTimeout((()=>{n.classList.add("opacity-0"),a.classList.add("hidden")}),300),s.isOpenCart=e)}function m(e){y(e),c.value=e,p.value=!1}function x(e){u.value="home"===e}return(0,a.YP)((()=>d.current),((t,n)=>{"home"===e.name&&(0!==d.current?n<t?d.showHeader=!1:n>t&&(d.showHeader=!0):d.showHeader=!0)})),(0,a.YP)((()=>s.cart),(e=>{e.length>0&&r()})),(0,a.YP)((()=>p.value),(e=>{const t=document.querySelector("body");!0===e?t.classList.add("overflow-hidden"):t.classList.remove("overflow-hidden")})),(0,a.YP)(e,(e=>{x(e.name)})),(0,a.bv)((()=>{r(),x(e.name)})),{route:e,handleIsLogout:h,cartList:(0,a.Fl)((()=>s.list)),openCart:c,handleCart:m,scroll:d,header:b,openDropdown:p,isHome:u}}};const Ie=(0,Ke.Z)(Ze,[["render",F]]);var $e=Ie}}]);
//# sourceMappingURL=129.a2de2fb6.js.map