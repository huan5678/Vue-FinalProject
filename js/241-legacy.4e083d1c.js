"use strict";(self["webpackChunkchill_bar"]=self["webpackChunkchill_bar"]||[]).push([[241],{9241:function(e,a,n){n.r(a),n.d(a,{default:function(){return k}});var t=n(6252),l=n(9963),s=n(3577),o={class:"flex justify-center items-center h-screen bg-gray-50"},r={class:"container max-w-lg"},u=(0,t._)("legend",{class:"text-3xl font-medium tracking-wide text-center text-primary-600"},"管理者登入",-1),d={class:"form-control"},i=(0,t._)("label",{for:"name",class:"font-normal label"},[(0,t._)("span",{class:"label-text"},"使用者帳號")],-1),c={class:"form-control"},m=(0,t._)("label",{for:"password",class:"font-normal label"},[(0,t._)("span",{class:"label-text"},"使用者密碼")],-1),p=(0,t._)("button",{type:"submit",class:"w-full text-secondary-50 bg-secondary-400 hover:bg-secondary-600 rounded-lg transition duration-300 btn"}," 登入 ",-1),f={class:"mb-2 text-center"};function h(e,a,n,h,g,w){var b=(0,t.up)("AlertModal");return(0,t.wg)(),(0,t.iD)("main",o,[(0,t._)("div",r,[(0,t._)("form",{class:"p-8 space-y-8 bg-white rounded shadow-sm",onSubmit:a[2]||(a[2]=(0,l.iM)((function(){return h.handlerSubmit&&h.handlerSubmit.apply(h,arguments)}),["prevent"]))},[u,(0,t._)("div",d,[i,(0,t.wy)((0,t._)("input",{id:"name",type:"text",name:"userName",placeholder:"請輸入帳號Email","onUpdate:modelValue":a[0]||(a[0]=function(e){return h.userName=e}),class:"input form-style"},null,512),[[l.nr,h.userName,void 0,{trim:!0}]])]),(0,t._)("div",c,[m,(0,t.wy)((0,t._)("input",{id:"password",type:"password",class:"input form-style","onUpdate:modelValue":a[1]||(a[1]=function(e){return h.userPassword=e}),placeholder:"請輸入密碼"},null,512),[[l.nr,h.userPassword]])]),p],32)]),(0,t.Wm)(b,{modelValue:h.openModal,"onUpdate:modelValue":a[3]||(a[3]=function(e){return h.openModal=e}),onHandleCloseModal:h.handleCloseModal},{title:(0,t.w5)((function(){return[(0,t.Uk)((0,s.zw)(h.modalMessage.title),1)]})),default:(0,t.w5)((function(){return[(0,t._)("p",f,(0,s.zw)(h.modalMessage.message),1),(0,t._)("p",null,(0,s.zw)(h.modalMessage.detail),1)]})),_:1},8,["modelValue","onHandleCloseModal"])])}var g=n(2262),w=n(2119),b=n(9669),v=n.n(b),_=n(5366),y={setup:function(){var e="https://vue3-course-api.hexschool.io/v2/",a=(0,_.Z)(),n=a.adminStore,l=n.handleSetLogin,s=n.handleCheckUser,o=n.handleGetToken,r=(0,w.tv)(),u=(0,g.iH)(""),d=(0,g.iH)(""),i=(0,g.qj)({title:"",message:"",detail:""}),c=(0,g.iH)(!1);function m(){var a=u.value,n=d.value;v().post("".concat(e,"admin/signin"),{username:a,password:n}).then((function(e){var a={token:e.data.token,expired:e.data.expired};l(a),i.message=e.data.message,i.title="登入成功",c.value=!0,setTimeout((function(){c.value=!1,r.push("/admin")}),3e3)})).catch((function(e){i.message=e.response.data.message,i.detail=e.response.data.error.message,i.title="登入失敗",c.value=!0}))}function p(){c.value=!1}return(0,t.wF)((function(){o(),s()})),{userName:u,userPassword:d,handlerSubmit:m,openModal:c,handleCloseModal:p,modalMessage:i}}},x=n(3744);const M=(0,x.Z)(y,[["render",h]]);var k=M}}]);
//# sourceMappingURL=241-legacy.4e083d1c.js.map