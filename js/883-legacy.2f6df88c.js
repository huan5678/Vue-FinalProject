(self["webpackChunkchill_bar"]=self["webpackChunkchill_bar"]||[]).push([[883],{8415:function(t,e,r){"use strict";var n=r(7854),o=r(9303),a=r(1340),i=r(4488),c=n.RangeError;t.exports=function(t){var e=a(i(this)),r="",n=o(t);if(n<0||n==1/0)throw c("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(e+=e))1&n&&(r+=e);return r}},3111:function(t,e,r){var n=r(1702),o=r(4488),a=r(1340),i=r(1361),c=n("".replace),s="["+i+"]",l=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),d=function(t){return function(e){var r=a(o(e));return 1&t&&(r=c(r,l,"")),2&t&&(r=c(r,u,"")),r}};t.exports={start:d(1),end:d(2),trim:d(3)}},863:function(t,e,r){var n=r(1702);t.exports=n(1..valueOf)},1361:function(t){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},9653:function(t,e,r){"use strict";var n=r(9781),o=r(7854),a=r(1702),i=r(4705),c=r(1320),s=r(2597),l=r(9587),u=r(7976),d=r(2190),f=r(7593),p=r(7293),v=r(8006).f,m=r(1236).f,b=r(3070).f,g=r(863),y=r(3111).trim,h="Number",x=o[h],w=x.prototype,_=o.TypeError,D=a("".slice),I=a("".charCodeAt),N=function(t){var e=f(t,"number");return"bigint"==typeof e?e:k(e)},k=function(t){var e,r,n,o,a,i,c,s,l=f(t,"number");if(d(l))throw _("Cannot convert a Symbol value to a number");if("string"==typeof l&&l.length>2)if(l=y(l),e=I(l,0),43===e||45===e){if(r=I(l,2),88===r||120===r)return NaN}else if(48===e){switch(I(l,1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+l}for(a=D(l,2),i=a.length,c=0;c<i;c++)if(s=I(a,c),s<48||s>o)return NaN;return parseInt(a,n)}return+l};if(i(h,!x(" 0o1")||!x("0b1")||x("+0x1"))){for(var E,S=function(t){var e=arguments.length<1?0:x(N(t)),r=this;return u(w,r)&&p((function(){g(r)}))?l(Object(e),r,S):e},T=n?v(x):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),j=0;T.length>j;j++)s(x,E=T[j])&&!s(S,E)&&b(S,E,m(x,E));S.prototype=w,w.constructor=S,c(o,h,S)}},6977:function(t,e,r){"use strict";var n=r(2109),o=r(7854),a=r(1702),i=r(9303),c=r(863),s=r(8415),l=r(7293),u=o.RangeError,d=o.String,f=Math.floor,p=a(s),v=a("".slice),m=a(1..toFixed),b=function(t,e,r){return 0===e?r:e%2===1?b(t,e-1,r*t):b(t*t,e/2,r)},g=function(t){var e=0,r=t;while(r>=4096)e+=12,r/=4096;while(r>=2)e+=1,r/=2;return e},y=function(t,e,r){var n=-1,o=r;while(++n<6)o+=e*t[n],t[n]=o%1e7,o=f(o/1e7)},h=function(t,e){var r=6,n=0;while(--r>=0)n+=t[r],t[r]=f(n/e),n=n%e*1e7},x=function(t){var e=6,r="";while(--e>=0)if(""!==r||0===e||0!==t[e]){var n=d(t[e]);r=""===r?n:r+p("0",7-n.length)+n}return r},w=l((function(){return"0.000"!==m(8e-5,3)||"1"!==m(.9,0)||"1.25"!==m(1.255,2)||"1000000000000000128"!==m(0xde0b6b3a7640080,0)}))||!l((function(){m({})}));n({target:"Number",proto:!0,forced:w},{toFixed:function(t){var e,r,n,o,a=c(this),s=i(t),l=[0,0,0,0,0,0],f="",m="0";if(s<0||s>20)throw u("Incorrect fraction digits");if(a!=a)return"NaN";if(a<=-1e21||a>=1e21)return d(a);if(a<0&&(f="-",a=-a),a>1e-21)if(e=g(a*b(2,69,1))-69,r=e<0?a*b(2,-e,1):a/b(2,e,1),r*=4503599627370496,e=52-e,e>0){y(l,0,r),n=s;while(n>=7)y(l,1e7,0),n-=7;y(l,b(10,n,1),0),n=e-1;while(n>=23)h(l,1<<23),n-=23;h(l,1<<n),y(l,1,1),h(l,2),m=x(l)}else y(l,0,r),y(l,1<<-e,0),m=x(l)+p("0",s);return s>0?(o=m.length,m=f+(o<=s?"0."+p("0",s-o)+m:v(m,0,o-s)+"."+v(m,o-s))):m=f+m,m}})},9939:function(t,e,r){"use strict";r.d(e,{Z:function(){return v}});var n=r(6252),o=r(3577),a={class:"container"},i={class:"flex gap-4 justify-between"},c={class:"tracking-[.25rem]"},s=(0,n._)("br",null,null,-1);function l(t,e,r,l,u,d){return(0,n.wg)(),(0,n.iD)("div",a,[(0,n._)("ul",i,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(l.data,(function(t,e){return(0,n.wg)(),(0,n.iD)("li",{key:t.title,class:(0,o.C_)(["flex-grow p-1 rfs:text-base font-light text-center md:rfs:text-lg",l.action===String(e+1)?"bg-secondary-500 text-primary-300":"border-secondary-700 text-secondary-400"])},[(0,n._)("span",{class:(0,o.C_)(["block py-2 border lg:py-2",l.action===String(e+1)?"border-primary-300":"border-secondary-400"])},[(0,n._)("span",c,(0,o.zw)(t.title),1),s,(0,n.Uk)((0,o.zw)(t.content),1)],2)],2)})),128))])])}var u=r(2262),d={props:{active:String},setup:function(t){var e=(0,u.qj)([{title:"STEP1",content:"確認訂單"},{title:"STEP2",content:"建立訂單"},{title:"STEP3",content:"完成訂單"}]),r=(0,u.Vh)(t,"active");return{data:e,action:r}}},f=r(3744);const p=(0,f.Z)(d,[["render",l]]);var v=p},3883:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return Y}});r(8309);var n=r(6252),o=r(3577),a=function(t){return(0,n.dD)("data-v-0b10de94"),t=t(),(0,n.Cn)(),t},i={class:"py-8 min-h-[80vh] bg-gray-200"},c={class:"container pt-4"},s={key:0,class:"flex flex-wrap gap-4 justify-between lg:flex-nowrap"},l={class:"flex flex-col flex-auto justify-between pb-4 w-full border-b border-secondary-500 md:w-2/3 lg:pt-14 lg:pb-20 lg:border-0"},u=a((function(){return(0,n._)("h2",{class:"py-4 text-2xl font-medium text-center"},"訂單內容",-1)})),d={id:"list",class:"overflow-y-auto space-y-4 max-h-[50vh]"},f={class:"flex gap-4"},p=["src","alt"],v={class:"space-y-4"},m={class:"text-xl font-medium"},b={class:"block font-mono tracking-wider"},g={class:"font-mono tracking-widest"},y={class:"pt-4 space-y-2 text-right"},h=a((function(){return(0,n._)("li",{class:"text-xl font-medium tracking-widest"}," 總金額 ",-1)})),x={class:"pb-2 font-mono text-2xl font-extralight border-b border-secondary-200"},w=a((function(){return(0,n._)("li",{class:"text-lg font-medium tracking-widest"}," 訂單是否完成付款 ",-1)})),_={class:"text-xl font-medium tracking-widest"},D=a((function(){return(0,n._)("div",{class:"lg:divider lg:divider-horizontal"},null,-1)})),I={class:"w-full md:w-1/2 lg:w-1/3"},N=a((function(){return(0,n._)("h1",{class:"py-4 text-2xl font-medium text-center"},"訂購資訊",-1)})),k={class:"mb-4 space-y-2"},E={class:"flex gap-2 justify-between items-center"},S=a((function(){return(0,n._)("span",null,"訂購人姓名",-1)})),T={class:"flex gap-2 justify-between items-center"},j=a((function(){return(0,n._)("span",null,"訂購人電話",-1)})),F={class:"flex gap-2 justify-between items-center"},z=a((function(){return(0,n._)("span",null,"訂購人Email",-1)})),C={class:"flex gap-2 justify-between items-center"},P=a((function(){return(0,n._)("span",null,"寄件地址",-1)})),A={key:1,class:"flex flex-col justify-center items-center space-y-8 min-h-[50vh]"},R=a((function(){return(0,n._)("h1",{class:"rfs:text-2xl font-medium text-secondary-700"},"目前沒有訂單",-1)}));function M(t,e,r,a,M,O){var V,Z,q,G,L,U,Y,H,$=(0,n.up)("CheckStep");return(0,n.wg)(),(0,n.iD)("section",i,[(0,n.Wm)($,{active:"".concat(a.steps)},null,8,["active"]),(0,n._)("div",c,[0!==a.confirmData.total?((0,n.wg)(),(0,n.iD)("div",s,[(0,n._)("div",l,[u,(0,n._)("ul",d,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(null===(V=a.confirmData)||void 0===V||null===(Z=V.order)||void 0===Z?void 0:Z.products,(function(t){return(0,n.wg)(),(0,n.iD)("li",{key:t.id,class:"flex gap-4 justify-between items-center px-4 pb-4 border-b border-secondary-200"},[(0,n._)("div",f,[(0,n._)("img",{class:"object-cover w-20 h-20",src:t.product.imageUrl,alt:t.product.title},null,8,p),(0,n._)("div",v,[(0,n._)("h3",m,(0,o.zw)(t.product.title),1),(0,n._)("span",b,"數量："+(0,o.zw)(t.product.qty),1)])]),(0,n._)("span",g," NT$"+(0,o.zw)(a.moneyFormat(t.product.price,t.product.qty)),1)])})),128))]),(0,n._)("ul",y,[h,(0,n._)("li",x," NT$"+(0,o.zw)(null===(q=a.confirmData)||void 0===q||null===(G=q.order)||void 0===G?void 0:G.total),1),w,(0,n._)("li",_,(0,o.zw)(a.success?"已完成付款":"未完成付款"),1)])]),D,(0,n._)("div",I,[N,(0,n._)("ul",k,[(0,n._)("li",E,[S,(0,n._)("span",null,(0,o.zw)(null===(L=a.confirmData.order.user)||void 0===L?void 0:L.name),1)]),(0,n._)("li",T,[j,(0,n._)("span",null,(0,o.zw)(null===(U=a.confirmData.order.user)||void 0===U?void 0:U.tel),1)]),(0,n._)("li",F,[z,(0,n._)("span",null,(0,o.zw)(null===(Y=a.confirmData.order.user)||void 0===Y?void 0:Y.email),1)]),(0,n._)("li",C,[P,(0,n._)("span",null,(0,o.zw)(null===(H=a.confirmData.order.user)||void 0===H?void 0:H.address),1)])]),(0,n._)("button",{type:"button",class:(0,o.C_)(["w-full text-secondary-700 rounded border-secondary-700 btn btn-outline",{disabled:a.paymentData.success,"cursor-not-allowed":a.paymentData.success,"opacity-30":a.paymentData.success,"hover:bg-secondary-700":!a.paymentData.success,"hover:text-secondary-100":!a.paymentData.success}]),onClick:e[0]||(e[0]=function(t){return a.handlePayment(a.confirmData.orderId)})},"信用卡付款",2)])])):((0,n.wg)(),(0,n.iD)("div",A,[R,(0,n._)("button",{type:"button",onClick:e[1]||(e[1]=function(){return a.handleToProduct&&a.handleToProduct.apply(a,arguments)}),class:"text-xl font-normal text-primary-600 hover:text-primary-100 hover:bg-primary-600 hover:border-primary-600 btn btn-lg btn-wide btn-outline"}," 看看其他商品吧 ")]))])])}r(9653),r(6977),r(2222);var O=r(2262),V=r(2119),Z=r(5366),q=r(9939),G={components:{CheckStep:q.Z},setup:function(){var t=(0,V.tv)(),e=(0,Z.Z)(),r=e.orderStore,o=r.orderData,a=r.orderResult,i=r.handleGetOrderData,c=(0,n.f3)("axios"),s="https://vue3-course-api.hexschool.io/v2/",l="club";function u(t,e){var r=t;return void 0!==e&&(r*=e),void 0!==t?Number(r.toFixed(1)).toLocaleString():0}var d=(0,O.iH)(2),f=(0,O.qj)({success:!1,order:{},total:0,user:{},is_paid:!1}),p=localStorage.getItem("order_id");function v(t){c.post("".concat(s,"api/").concat(l,"/pay/").concat(t)).then((function(t){f.success=t.data.success,f.order=t.data.order,f.total=t.data.total,f.user=t.data.user,d.value=3,localStorage.removeItem("order_id")})).catch((function(t){return console.dir(t)}))}function m(){t.push("product")}return(0,n.bv)((function(){a.orderId?i(a.orderId):null!==p&&i(p)})),{steps:d,moneyFormat:u,handlePayment:v,paymentData:f,confirmData:(0,n.Fl)((function(){return o})),orderId:p,handleToProduct:m,success:(0,n.Fl)((function(){return f.success}))}}},L=r(3744);const U=(0,L.Z)(G,[["render",M],["__scopeId","data-v-0b10de94"]]);var Y=U}}]);
//# sourceMappingURL=883-legacy.2f6df88c.js.map